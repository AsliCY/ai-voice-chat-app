<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#667eea" />
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="AI destekli sesli sohbet uygulaması. Deepgram, Google Gemini ve ElevenLabs teknolojileri ile gerçek zamanlı konuşma deneyimi." />
  <meta name="keywords" content="sesli chat, AI, yapay zeka, speech to text, text to speech, voice chat, Deepgram, Gemini, ElevenLabs" />
  <meta name="author" content="Voice Chat App" />
  
  <!-- Open Graph Meta Tags (Social Media) -->
  <meta property="og:title" content="🎙️ Sesli Chat AI - Yapay Zeka ile Konuş" />
  <meta property="og:description" content="AI destekli sesli sohbet uygulaması ile gerçek zamanlı konuşma deneyimi yaşayın." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="%PUBLIC_URL%" />
  <meta property="og:image" content="%PUBLIC_URL%/og-image.png" />
  <meta property="og:locale" content="tr_TR" />
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="🎙️ Sesli Chat AI - Yapay Zeka ile Konuş" />
  <meta name="twitter:description" content="AI destekli sesli sohbet uygulaması ile gerçek zamanlı konuşma deneyimi yaşayın." />
  <meta name="twitter:image" content="%PUBLIC_URL%/og-image.png" />
  
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  
  <!-- Manifest -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  
  <!-- Preconnect to External APIs for Performance -->
  <link rel="preconnect" href="https://api.deepgram.com">
  <link rel="preconnect" href="https://generativelanguage.googleapis.com">
  <link rel="preconnect" href="https://api.elevenlabs.io">
  
  <!-- Material-UI Roboto Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- Material-UI Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
  <title>🎙️ Sesli Chat AI - Yapay Zeka ile Konuş</title>
  
  <style>
    /* Loading Screen Styles */
    #initial-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      font-family: 'Roboto', sans-serif;
      color: white;
      transition: opacity 0.5s ease-out;
    }
    
    #initial-loader .loader-content {
      text-align: center;
    }
    
    #initial-loader .loader-spinner {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(255, 255, 255, 0.3);
      border-top: 5px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 30px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    #initial-loader .loader-title {
      font-size: 32px;
      font-weight: 600;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    #initial-loader .loader-subtitle {
      font-size: 16px;
      font-weight: 400;
      margin-bottom: 20px;
      opacity: 0.9;
    }
    
    #initial-loader .loader-description {
      font-size: 14px;
      opacity: 0.8;
      text-align: center;
      max-width: 400px;
      line-height: 1.5;
    }
    
    #initial-loader .loader-features {
      margin-top: 30px;
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    #initial-loader .loader-feature {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 12px;
      opacity: 0.7;
    }
    
    #initial-loader .loader-feature-icon {
      font-size: 24px;
      margin-bottom: 5px;
    }
    
    /* Hide loader when React app loads */
    .app-loaded #initial-loader {
      opacity: 0;
      pointer-events: none;
    }
    
    /* Basic body styles */
    body {
      margin: 0;
      font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', 
                   'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 
                   'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      background-attachment: fixed;
    }
    
    code {
      font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      #initial-loader .loader-title {
        font-size: 24px;
      }
      
      #initial-loader .loader-subtitle {
        font-size: 14px;
      }
      
      #initial-loader .loader-description {
        font-size: 12px;
        padding: 0 20px;
      }
      
      #initial-loader .loader-features {
        gap: 20px;
      }
      
      #initial-loader .loader-spinner {
        width: 50px;
        height: 50px;
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>
  <noscript>
    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif; background: white; min-height: 100vh; display: flex; flex-direction: column; justify-content: center;">
      <h2 style="color: #f44336; margin-bottom: 20px;">🚫 JavaScript Gerekli</h2>
      <p style="color: #666; margin-bottom: 15px;">Bu uygulama çalışmak için JavaScript'in etkin olması gerekiyor.</p>
      <p style="color: #666;">Lütfen tarayıcınızda JavaScript'i etkinleştirin ve sayfayı yenileyin.</p>
    </div>
  </noscript>
  
  <!-- Initial Loading Screen -->
  <div id="initial-loader">
    <div class="loader-content">
      <div class="loader-spinner"></div>
      <div class="loader-title">🎙️ Sesli Chat AI</div>
      <div class="loader-subtitle">Yapay Zeka ile Konuş</div>
      <div class="loader-description">
        Deepgram, Google Gemini ve ElevenLabs teknolojileri ile 
        gerçek zamanlı sesli sohbet deneyimi yükleniyor...
      </div>
      <div class="loader-features">
        <div class="loader-feature">
          <div class="loader-feature-icon">🎤</div>
          <div>Ses Tanıma</div>
        </div>
        <div class="loader-feature">
          <div class="loader-feature-icon">🤖</div>
          <div>AI Yanıtlar</div>
        </div>
        <div class="loader-feature">
          <div class="loader-feature-icon">🔊</div>
          <div>Ses Sentezi</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- React App Mount Point -->
  <div id="root"></div>
  
  <script>
    // Hide loader when React app loads
    let appLoadTimer;
    
    window.addEventListener('load', function() {
      appLoadTimer = setTimeout(function() {
        document.body.classList.add('app-loaded');
        setTimeout(function() {
          const loader = document.getElementById('initial-loader');
          if (loader) {
            loader.style.display = 'none';
          }
        }, 500);
      }, 300);
    });
    
    // Also hide loader when React renders (fallback)
    const observer = new MutationObserver(function(mutations) {
      const rootElement = document.getElementById('root');
      if (rootElement && rootElement.children.length > 0) {
        clearTimeout(appLoadTimer);
        setTimeout(() => {
          document.body.classList.add('app-loaded');
          setTimeout(() => {
            const loader = document.getElementById('initial-loader');
            if (loader) loader.style.display = 'none';
          }, 500);
        }, 100);
        observer.disconnect();
      }
    });
    
    observer.observe(document.getElementById('root'), { 
      childList: true, 
      subtree: true 
    });
    
    // Check for required browser features
    function checkBrowserSupport() {
      const requiredFeatures = {
        'WebRTC': !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia),
        'WebSocket': !!(window.WebSocket || window.MozWebSocket),
        'AudioContext': !!(window.AudioContext || window.webkitAudioContext),
        'Fetch API': !!(window.fetch)
      };
      
      const unsupported = Object.keys(requiredFeatures).filter(feature => !requiredFeatures[feature]);
      
      if (unsupported.length > 0) {
        console.warn('Desteklenmeyen tarayıcı özellikleri:', unsupported);
        
        // Show warning after a delay to ensure React hasn't loaded
        setTimeout(() => {
          if (!document.getElementById('root').hasChildNodes()) {
            const message = `⚠️ Tarayıcı Uyumluluk Sorunu\n\nTarayıcınız şu özellikleri desteklemiyor:\n${unsupported.join(', ')}\n\nLütfen güncel bir tarayıcı (Chrome, Firefox, Safari, Edge) kullanın.`;
            alert(message);
          }
        }, 5000);
      }
    }
    
    checkBrowserSupport();
    
    // Error handling for microphone permissions
    window.addEventListener('error', function(e) {
      if (e.message && e.message.includes('microphone')) {
        console.warn('Mikrofon izin hatası yakalandı:', e.message);
      }
    });
    
    // Console welcome message
    console.log(
      '%c🎙️ Sesli Chat AI', 
      'color: #667eea; font-size: 20px; font-weight: bold;'
    );
    console.log(
      '%cYapay zeka destekli sesli sohbet uygulamasına hoş geldiniz!', 
      'color: #666; font-size: 12px;'
    );
  </script>
</body>
</html>